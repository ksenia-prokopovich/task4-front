(this["webpackJsonpusers-list"]=this["webpackJsonpusers-list"]||[]).push([[0],{20:function(e,t,s){"use strict";(function(e){var a=s(7),n=s(8),c=s(10),r=s(9),i=s(1),l=s.n(i),o=(s(33),s(21)),h=s(22),b=s(16),d=s(2),u=s(26),j=s(23),m=s(24),O=s(0),p=function(t){Object(c.a)(i,t);var s=Object(r.a)(i);function i(){var e;return Object(a.a)(this,i),(e=s.call(this)).state={user:localStorage.getItem("user")},e}return Object(n.a)(i,[{key:"render",value:function(){return console.log(e),Object(O.jsxs)("div",{children:[Object(O.jsx)(j.a,{}),Object(O.jsx)(b.a,{basename:"/task4-front",children:Object(O.jsxs)(d.c,{children:[this.state.user&&Object(O.jsx)(d.a,{exact:!0,path:"/",component:h.a}),!this.state.user&&Object(O.jsx)(d.a,{path:"/registration",component:o.a}),!this.state.user&&Object(O.jsx)(d.a,{path:"/login",component:u.a}),Object(O.jsx)(d.a,{component:m.a})]})})]})}}]),i}(l.a.Component);t.a=p}).call(this,s(32))},21:function(e,t,s){"use strict";var a=s(4),n=s(7),c=s(8),r=s(10),i=s(9),l=s(1),o=s.n(l),h=(s(34),s(0)),b=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={firstname:"",email:"",password:""},a}return Object(c.a)(s,[{key:"create",value:function(){fetch("https://server-37go.onrender.com/users/create",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:this.state.firstname,email:this.state.email,password:this.state.password})}).then((function(e){return e.json()})).then()}},{key:"firstnameChange",value:function(e){this.setState(Object(a.a)(Object(a.a)({},this.state),{},{firstname:e.target.value}))}},{key:"emailChange",value:function(e){this.setState(Object(a.a)(Object(a.a)({},this.state),{},{email:e.target.value}))}},{key:"passwordChange",value:function(e){this.setState(Object(a.a)(Object(a.a)({},this.state),{},{password:e.target.value}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"registrations container",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Name"}),Object(h.jsx)("input",{type:"text",value:this.state.firstname,onChange:this.firstnameChange.bind(this),className:"form-control","aria-describedby":"textHelp"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Email address"}),Object(h.jsx)("input",{type:"email",value:this.state.email,onChange:this.emailChange.bind(this),className:"form-control","aria-describedby":"emailHelp"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(h.jsx)("input",{type:"password",value:this.state.password,onChange:this.passwordChange.bind(this),className:"form-control",id:"exampleInputPassword1"})]}),Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",children:Object(h.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/login",onClick:this.create.bind(this),children:"Sign Up"})})]})}}]),s}(o.a.Component);t.a=b},22:function(e,t,s){"use strict";var a=s(4),n=s(7),c=s(8),r=s(10),i=s(9),l=s(1),o=s.n(l),h=(s(36),s(0)),b=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={users:[],selectedItems:[]},a.loadUsers(),a}return Object(c.a)(s,[{key:"onClick",value:function(e){this.state.selectedItems.includes(e)?this.state.selectedItems=this.state.selectedItems.filter((function(t){return t!==e})):this.state.selectedItems.push(e),this.setState(this.state)}},{key:"onClickAll",value:function(e){this.state.selectedItems=e?this.state.users.map((function(e){return e.id})):[],this.setState(this.state)}},{key:"onDelete",value:function(){var e=this;this.state.selectedItems.forEach((function(t){return e.delete(t)}))}},{key:"delete",value:function(e){var t=this;fetch("https://server-37go.onrender.com/users/delete/"+e,{method:"DELETE"}).then((function(){return t.loadUsers()}))}},{key:"loadUsers",value:function(){var e=this;fetch("https://server-37go.onrender.com/users").then((function(e){return e.json()})).then((function(t){return e.setState(Object(a.a)(Object(a.a)({},e.state),{},{users:t}))}))}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"user-list container",children:[Object(h.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-black",children:"Block"}),Object(h.jsx)("button",{type:"button",className:"btn btn-black",children:"Unblock"}),Object(h.jsx)("button",{type:"button",className:"btn btn-black ",onClick:this.onDelete.bind(this),children:"Delete"})]}),Object(h.jsxs)("table",{class:"table table-hover",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:Object(h.jsx)("input",{type:"checkbox",onChange:function(t){return e.onClickAll(t.target.checked)}})}),Object(h.jsx)("th",{scope:"col",children:"Id"}),Object(h.jsx)("th",{scope:"col",children:"First name"}),Object(h.jsx)("th",{scope:"col",children:"Email"}),Object(h.jsx)("th",{scope:"col",children:"Status"}),Object(h.jsx)("th",{scope:"col",children:"CreatedAt"}),Object(h.jsx)("th",{scope:"col",children:"UpdatedAt"})]})}),Object(h.jsx)("tbody",{children:this.state.users.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{type:"checkbox",checked:e.state.selectedItems.includes(t.id),onChange:function(){return e.onClick(t.id)}})}),Object(h.jsx)("td",{children:t.id}),Object(h.jsx)("td",{children:t.firstname}),Object(h.jsx)("td",{children:t.email}),Object(h.jsx)("td",{children:t.status}),Object(h.jsx)("td",{children:t.createdAt}),Object(h.jsx)("td",{children:t.updatedAt})]},t.id)}))})]})]})}}]),s}(o.a.Component);t.a=b},23:function(e,t,s){"use strict";var a=s(7),n=s(8),c=s(10),r=s(9),i=s(1),l=s.n(i),o=(s(38),s(0)),h=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={user:localStorage.getItem("user")},n}return Object(n.a)(s,[{key:"delete",value:function(){localStorage.removeItem("user"),window.location.href="/login"}},{key:"render",value:function(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),this.state.user&&Object(o.jsxs)("ul",{className:"navigation-list",children:[Object(o.jsx)("a",{className:"navbar-brand",children:JSON.parse(this.state.user).firstname}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"btn btn-outline-dark",children:Object(o.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/",children:"User list"})}),Object(o.jsx)("button",{className:"btn btn-outline-dark",type:"submit",children:Object(o.jsx)("a",{className:"nav-link active","aria-current":"page",onClick:this.delete,children:"Log Out"})})]})]}),!this.state.user&&Object(o.jsx)("ul",{className:"navigation-list",children:Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"btn btn-outline-dark",type:"submit",children:Object(o.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/login",children:"Sign In"})}),Object(o.jsx)("button",{className:"btn btn-outline-dark",type:"submit",children:Object(o.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/registration",children:"Sign Up"})})]})})]})})}}]),s}(l.a.Component);t.a=h},24:function(e,t,s){"use strict";var a=s(7),n=s(8),c=s(10),r=s(9),i=s(1),l=s.n(i),o=s(0),h=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"render",value:function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-md-12",children:Object(o.jsxs)("div",{className:"error-template",children:[Object(o.jsx)("h1",{children:"Oops!"}),Object(o.jsx)("h2",{children:"404 Not Found"}),Object(o.jsx)("div",{className:"error-details",children:"Sorry, an error has occured, Requested page not found!"})]})})})})}}]),s}(l.a.Component);t.a=h},26:function(e,t,s){"use strict";var a=s(4),n=s(7),c=s(8),r=s(10),i=s(9),l=s(1),o=s.n(l);s(37);var h=s(0),b=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).state={email:"",password:"",hasError:!1},a}return Object(c.a)(s,[{key:"singIn",value:function(){var e=this;fetch("https://server-37go.onrender.com/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,password:this.state.password})}).then((function(e){return function(e){if(!e.ok)throw new Error(e.status);return e}(e)})).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e)),window.location.href="/"})).catch((function(){e.state.hasError=!0,e.setState(e.state)}))}},{key:"emailChange",value:function(e){this.setState(Object(a.a)(Object(a.a)({},this.state),{},{email:e.target.value}))}},{key:"passwordChange",value:function(e){this.setState(Object(a.a)(Object(a.a)({},this.state),{},{password:e.target.value}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"login container",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailChange.bind(this),"aria-describedby":"emailHelp"})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passwordChange.bind(this),id:"exampleInputPassword1"})]}),this.state.hasError&&Object(h.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Your email or password is incorrect!"}),Object(h.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:this.singIn.bind(this),children:"Sign In"})]})}}]),s}(o.a.Component);t.a=b},31:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){},47:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(19),r=s.n(c),i=(s(31),s(20)),l=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,48)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),a(e),n(e),c(e),r(e)}))},o=s(0);r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(i.a,{})}),document.getElementById("root")),l()}},[[47,1,2]]]);
//# sourceMappingURL=main.1b347164.chunk.js.map