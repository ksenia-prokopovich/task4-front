(this["webpackJsonpusers-list"]=this["webpackJsonpusers-list"]||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},31:function(e,t,s){},40:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(19),i=s.n(c),r=(s(25),s(7)),l=s(8),o=s(10),h=s(9),b=(s(26),s(4)),d=(s(27),s(0)),j=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={firstname:"",email:"",password:""},a}return Object(l.a)(s,[{key:"create",value:function(){fetch("http://localhost:8000/users/create",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:this.state.firstname,email:this.state.email,password:this.state.password})}).then((function(e){return e.json()})).then()}},{key:"firstnameChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{firstname:e.target.value}))}},{key:"emailChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{email:e.target.value}))}},{key:"passwordChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{password:e.target.value}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"registrations container",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Name"}),Object(d.jsx)("input",{type:"text",value:this.state.firstname,onChange:this.firstnameChange.bind(this),className:"form-control","aria-describedby":"textHelp"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Email address"}),Object(d.jsx)("input",{type:"email",value:this.state.email,onChange:this.emailChange.bind(this),className:"form-control","aria-describedby":"emailHelp"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",value:this.state.password,onChange:this.passwordChange.bind(this),className:"form-control",id:"exampleInputPassword1"})]}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:Object(d.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/login",onClick:this.create.bind(this),children:"Sign Up"})})]})}}]),s}(n.a.Component),u=(s(29),function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={users:[],selectedItems:[]},a.loadUsers(),a}return Object(l.a)(s,[{key:"onClick",value:function(e){this.state.selectedItems.includes(e)?this.state.selectedItems=this.state.selectedItems.filter((function(t){return t!==e})):this.state.selectedItems.push(e),this.setState(this.state)}},{key:"onClickAll",value:function(e){this.state.selectedItems=e?this.state.users.map((function(e){return e.id})):[],this.setState(this.state)}},{key:"onDelete",value:function(){var e=this;this.state.selectedItems.forEach((function(t){return e.delete(t)}))}},{key:"delete",value:function(e){var t=this;fetch("http://localhost:8000/users/delete/"+e,{method:"DELETE"}).then((function(){return t.loadUsers()}))}},{key:"loadUsers",value:function(){var e=this;fetch("http://localhost:8000/users").then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{users:t}))}))}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"user-list container",children:[Object(d.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(d.jsx)("button",{type:"button",className:"btn btn-black",children:"Block"}),Object(d.jsx)("button",{type:"button",className:"btn btn-black",children:"Unblock"}),Object(d.jsx)("button",{type:"button",className:"btn btn-black ",onClick:this.onDelete.bind(this),children:"Delete"})]}),Object(d.jsxs)("table",{class:"table table-hover",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("input",{type:"checkbox",onChange:function(t){return e.onClickAll(t.target.checked)}})}),Object(d.jsx)("th",{scope:"col",children:"Id"}),Object(d.jsx)("th",{scope:"col",children:"First name"}),Object(d.jsx)("th",{scope:"col",children:"Email"}),Object(d.jsx)("th",{scope:"col",children:"Status"}),Object(d.jsx)("th",{scope:"col",children:"CreatedAt"}),Object(d.jsx)("th",{scope:"col",children:"UpdatedAt"})]})}),Object(d.jsx)("tbody",{children:this.state.users.map((function(t){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:Object(d.jsx)("input",{type:"checkbox",checked:e.state.selectedItems.includes(t.id),onChange:function(){return e.onClick(t.id)}})}),Object(d.jsx)("td",{children:t.id}),Object(d.jsx)("td",{children:t.firstname}),Object(d.jsx)("td",{children:t.email}),Object(d.jsx)("td",{children:t.status}),Object(d.jsx)("td",{children:t.createdAt}),Object(d.jsx)("td",{children:t.updatedAt})]},t.id)}))})]})]})}}]),s}(n.a.Component)),m=s(16),O=s(2);s(30);var p=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={email:"",password:"",hasError:!1},a}return Object(l.a)(s,[{key:"singIn",value:function(){var e=this;fetch("http://localhost:8000/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,password:this.state.password})}).then((function(e){return function(e){if(!e.ok)throw new Error(e.status);return e}(e)})).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e)),window.location.href="/"})).catch((function(){e.state.hasError=!0,e.setState(e.state)}))}},{key:"emailChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{email:e.target.value}))}},{key:"passwordChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{password:e.target.value}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"login container",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",children:"Email address"}),Object(d.jsx)("input",{type:"email",className:"form-control",value:this.state.email,onChange:this.emailChange.bind(this),"aria-describedby":"emailHelp"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.passwordChange.bind(this),id:"exampleInputPassword1"})]}),this.state.hasError&&Object(d.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Your email or password is incorrect!"}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:this.singIn.bind(this),children:"Sign In"})]})}}]),s}(n.a.Component),f=(s(31),function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={user:localStorage.getItem("user")},a}return Object(l.a)(s,[{key:"delete",value:function(){localStorage.removeItem("user"),window.location.href="/login"}},{key:"render",value:function(){return Object(d.jsx)("header",{className:"header",children:Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),this.state.user&&Object(d.jsxs)("ul",{className:"navigation-list",children:[Object(d.jsx)("a",{className:"navbar-brand",children:JSON.parse(this.state.user).firstname}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"btn btn-outline-dark",children:Object(d.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/",children:"User list"})}),Object(d.jsx)("button",{className:"btn btn-outline-dark",type:"submit",children:Object(d.jsx)("a",{className:"nav-link active","aria-current":"page",onClick:this.delete,children:"Log Out"})})]})]}),!this.state.user&&Object(d.jsx)("ul",{className:"navigation-list",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"btn btn-outline-dark",type:"submit",children:Object(d.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/login",children:"Sign In"})}),Object(d.jsx)("button",{className:"btn btn-outline-dark",type:"submit",children:Object(d.jsx)("a",{className:"nav-link active","aria-current":"page",href:"/registration",children:"Sign Up"})})]})})]})})}}]),s}(n.a.Component)),x=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-12",children:Object(d.jsxs)("div",{className:"error-template",children:[Object(d.jsx)("h1",{children:"Oops!"}),Object(d.jsx)("h2",{children:"404 Not Found"}),Object(d.jsx)("div",{className:"error-details",children:"Sorry, an error has occured, Requested page not found!"})]})})})})}}]),s}(n.a.Component),v=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={user:localStorage.getItem("user")},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(f,{}),Object(d.jsx)(m.a,{children:Object(d.jsxs)(O.c,{children:[this.state.user&&Object(d.jsx)(O.a,{exact:!0,path:"/",component:u}),!this.state.user&&Object(d.jsx)(O.a,{path:"/registration",component:j}),!this.state.user&&Object(d.jsx)(O.a,{path:"/login",component:p}),Object(d.jsx)(O.a,{component:x})]})})]})}}]),s}(n.a.Component),g=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,41)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),a(e),n(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),g()}},[[40,1,2]]]);
//# sourceMappingURL=main.be32bad0.chunk.js.map